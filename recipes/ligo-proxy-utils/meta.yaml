{% set name = "ligo-proxy-utils" %}
{% set version = "1.3.6" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://software.igwn.org/sources/source/{{ name }}-{{ version }}.tar.gz
  sha256: 8c41654e40b18173105bb14312eea06717db89989399b8dcac65e0db9b54d142
  patches:
    - prefix.patch

build:
  number: 0
  script: install --mode=0755 "ligo-proxy-init" "${PREFIX}/bin/ligo-proxy-init"
  skip: true  # [win]

requirements:
  build:
    - coreutils
  run:
    - bash
    - ca-certificates
    - curl >=7.19.7
    - krb5
    - libxslt >=1.1.26
    - openssl >=1.0.0

test:
  commands:
    - ligo-proxy-init -h
    - ligo-proxy-init -v

about:
  home: https://wiki.ligo.org/AuthProject
  dev_url: https://git.ligo.org/authpublic/ligo-proxy-utils
  license: GPL-2.0-or-later
  license_family: GPL
  license_file: LICENSE
  summary: Utilities for obtaining short-lived proxy certificates for LIGO

extra:
  recipe-maintainers:
    - duncanmmacleod
